<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>SHA1 IT QuickStart</title>
    <meta name="robots" content="noindex, noarchive, nofollow">
    <link rel="stylesheet" href="http://www.cisco.com/etc/designs/cdc/clientlibs/responsive/css/cisco-sans.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="lock-icon.ico">

    <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'> -->
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="../../css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="../../css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="../../css/bootstrap.css">
    <!-- Superfish -->
    <link rel="stylesheet" href="../../css/superfish.css">

    <!--<link rel="stylesheet" href="../../css/style.css">-->


    <!-- Modernizr JS -->
    <script src="../../js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="../../css/style-mockup1.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>

  <body background>
    <div id="header">
      <header id="fh5co-header-section">
        <div class="container">
          <div class="nav-header">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <h1 id="fh5co-logo"><a href="..\..\index.html"><strong><font color="white">Crypto Done Right!</font></strong></a></h1>
            <!-- START #fh5co-menu-wrap -->
            <nav id="fh5co-menu-wrap" role="navigation">
              <ul class="sf-menu" id="fh5co-primary-menu">
                <!--<li class="active">
                  <a href="index.html"><font color="black">Home</font></a>
                </li>-->
                <li>
                  <a href="..\..\articles\cryptographic_protocols\cryptographic-protocols.html" class="fh5co-sub-ddown"><font color="white">Cryptographic Algorithms</font></a>
                  <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\cryptographic_protocols\basics.html" ><font color="black">Basics</font></a></li>
                    <li><a href="#" class="fh5co-sub-ddown">SSL</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\ssl-2.html">SSL 2.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\ssl-3.html">SSL 3.0</a></li>
                        </ul>
                    </li>
                    <li><a href="#" class="fh5co-sub-ddown">TLS</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1.html">TLS 1.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-1.html" >TLS 1.1</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-2.html" >TLS 1.2</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-3.html" >TLS 1.3</a></li>
                        </ul>
                    </li>
                    <li><a href="#" class="fh5co-sub-ddown">SSH</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\sshv1.html" >SSH 1.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\sshv2.html" >SSH 2.0</a></li>
                        </ul>
                    </li>
                  </ul>
                </li>

                <li>
                  <a href="..\..\articles\cryptographic_protocols\encryption.html" class="fh5co-sub-ddown"><font color="white">Encryption</font></a>
                  <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\cryptographic_protocols\encryption.html" ><font color="black">Introduction</font></a></li>
                      <li><a href="#" class="fh5co-sub-ddown">AES</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\aes.html" >Introduction</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\aes-ctr.html" >AES CTR</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\aes-cbc.html" >AES CBC</a></li>
                        </ul>
                      </li>
                    <li><a href="#" class="fh5co-sub-ddown">DES</a></li>
                    <li><a href="..\..\articles\cryptographic_protocols\3des.html" class="fh5co-sub-ddown">3DES</a></li>
                  </ul>
                </li>

                <li>
                  <a href="#" class="fh5co-sub-ddown"><font color="white">Hashing Algorithms</font></a>
                   <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\hashing_algorithms\example_index.html">Introduction</a></li>
                    <li>
                      <a href="#" class="fh5co-sub-ddown">Hash Functions</a>
                      <ul class="fh5co-sub-menu">
                          <li><a href="#" class="fh5co-sub-ddown">Unkeyed</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\hashing_algorithms\md5.html" >MD5</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha1.html" >SHA-1</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha2.html" >SHA-2</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha3.html" >SHA-3</a></li>
                        </ul>
                        </li>
                          <li><a href="#" class="fh5co-sub-ddown">Keyed</a>
                        <ul class="fh5co-sub-menu">                       
                          <li><a href="http://freehtml5.co/preview/?item=build-free-html5-bootstrap-template" tar
                                 ="_blank">More to come..</a></li>
                            </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="..\..\about.html"><font color="white">About</font></a></li>
                <li><a href="..\..\contact.html"><font color="white">Contact</font></a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
    </div>

    <div class="breadcrumbs">
      <ol class="breadcrumb">
         <li class="breadcrumb-item level"><a href="../../index.html">Home</a></li>
         <li class="breadcrumb-item level"><a href="../articles.html">Articles</a></li>
         <li class="breadcrumb-item level"><a href="example_index.html">Hashing Algorithms</a></li>
         <li class="breadcrumb-item level0"><a href="sha1.html">SHA-1</a></li>
         <li class="breadcrumb-item level1 active">SHA-1 IT Quickstart</li>
       </ol>
    </div>

    <div id="contentScroller">
      <strong style="font-size:2vw;">Content</strong>
      <ul>
        <a href="#requisiteConcepts"><li>
          Requisite Concepts
        </li></a>
        <a href="#quickstart"><li>
          Quickstart
        </li></a>
        <a href="#enterprise"><li>
          Enterprise CAs
        </li></a>
        <a href="#action"><li>
          Taking Action
        </li></a>
        <a href="#relatedArticles"><li>
          Related Articles & Further Reading
        </li></a>
      </ul>
    </div>

    <div class="container-fluid">
      <div class="row" style="text-align:center;">
        <div class="center-block">
          <div class="level0redirect">
            <h3 id="requisiteConcepts">
              Requisite Concepts:
            </h3>
            
            <ul>
              <a href="../cryptographic_protocols/basics.html"><li>What is a certificate?</li></a>
              <a href="../cryptographic_protocols/basics.html"><li>What is a certificate chain?</li></a>
              <a href="../cryptographic_protocols/basics.html"><li>
                What does mean to establish trust relationship with something?
              </li></a>
              <a href="../cryptographic_protocols/basics.html"><li>
                What is a root, intermediate or self-signed certificate?
              </li></a>
              <a href="../cryptographic_protocols/basics.html"><li>
                What is a CA or Certificate Authority?
              </li></a>
            </ul>
          </div>
          
          
          <div id="quickstart" style="margin-top:2vw;">
		  
		  <h3>IT Administrator's Quickstart</h3>
		  
          <p id="when">
            <strong>When is SHA used?</strong><br />
            SHA is primarily being used for the following purposes:
            <ol>
              <li>
                Cryptography:- SHA-1 forms part of several widely used security applications and protocols, including TLS and SSL, PGP, SSH, S/MIME, and IPsec.
              </li>
              <li>
                Data Integrity:- This means a hash or SHA-1 helps to identify revisions, and to detect data corruption or tampering. In other words, it is a consistency check. It ensures if some data is, if checked at a later time or after transit, then the received data is consistent and not tampered with.
              </li>
              <li>
                Password Storage:- Described in the above example
              </li>
            </ol>
          </p>
		  
		  <p id="identification">
            <strong>How do I know if I am using SHA-1 in my IT systems or infrastructure?</strong><br /> <br />
            As described in the migration page, it is essential to gather and create a comprehensive list or an inventory of every unique devices, OS or application in your infrastructure.
            <ol>
              <li>
                Identify the systems that use certificates.If certificates are in use, you must check if SHA-1 signature is in use for those certificates or not. You can check by visiting the site in your browser and viewing the certificate that the browser received. The details of how to do that can vary from browser to browser, but generally if you click or right-click on the lock icon, there should be an option to view the certificate details. In the list of certificate fields, look for one called "Certificate Signature Algorithm". (For StackOverflow's certificate, its value is "PKCS #1 SHA-1 With RSA Encryption".)
              </li>
              <li>
                If your infrastructure has a web server, you can use the following site and see if you are using the SHA-1 or some other certificate. The site is <a href="https://shachecker.com/">https://shachecker.com/</a> or <a href="https://shaaaaaaaaaaaaa.com/">https://shaaaaaaaaaaaaa.com/</a>.
              </li>
              <li>
                Here, is a quick command in a linux system that you can run to know if you are using the correct SHA-1 certificate.<br /><br />
                <pre>
                  <code>
$openssl s_client -connect www.yoursite.com:443 < /dev/null 2>/dev/null \ | openssl x509 -text -in /dev/stdin | grep "Signature Algorithm"</code>
                </pre>
                
                <br /><br />
                or 
                <br /><br />
                
                <pre>
                  <code>
$openssl s_client -connect <host>:<port> < /dev/null 2>/dev/null | openssl x509 -text -in /dev/stdin | grep "Signature Algorithm"</code>
                </pre>
              </li>
            </ol>
          </p>

          <p>
            One real-world example where SHA-1 may be used is when you're entering your password into a website's login page. Though it happens in the background without your knowledge, it may be the method a website uses to securely verify that your password is authentic.
          </p>
          <p>
            In this example, imagine you're trying to login to a website you often visit. Each time you request to log on, you're required to enter in your username and password. 
          </p>
          <p>
            If the website uses the SHA-1 cryptographic hash function, it means your password is turned into a checksum after you enter it in. That checksum is then compared with the checksum that's stored on the website. If the two match, you're granted access; if they don't, you're told the password is incorrect.
          </p>
          <p>
            Another example where the SHA-1 hash function may be used is for file verification. Some websites will provide the SHA-1 checksum of the file on the download page so that when you download the file, you can check the checksum for yourself to ensure that the downloaded file is the same as the one you intended to downloaded.
          </p>
          <!--<p id="why">
            <strong>Why was there a need for SHA1?</strong>
            NIST (National Institute for Standards and Technology, USA) was apparently not confident in the security of MD5 and proposed in 1993 a strengthened version of it called SHA (Secure Hash Algorithm) with a 160-bit result; it is now frequently called SHA-0. In 1995, NIST discovered a certificational weakness in SHA-0, which resulted in a new release of the standard published under the name SHA-1. In 2002, NIST published three new hash functions with longer hash results that are commonly called SHA-2: SHA- 256, SHA-384 and SHA-512.
          </p>-->
          <p id="where">
            <strong>Protocols Used In:</strong>
            <ul>
              <li>Transport Layer Security (TLS)</li>
              <li>Secure Sockets Layer (SSL)</li>
              <li>Pretty Good Privacy (PGP)</li>
              <li>Secure Shell (SSH)</li>
              <li>Secure/Multipurpose Internet Mail Extensions (S/MIME)</li>
              <li>Internet Protocol Security (IPSec)</li>
            </ul>
          </p>
          <p id="whenToUse">
            <strong>When and Where is SHA-1 Ok?</strong>
            Checking the hash of an executable or file that we know is trusted (from trusted site).
            No known flaws in SHA-1 as a key derivation function which is how dh-group14-sha1 is being used.  
            Similarly, HMAC-SHA1 is believed to be (still) safe as long as SHA1 is pseudorandom.   
            The specific construct of HMAC-SHA1 is still considered safe to use (assuming a secret key) due to the security proof for HMAC which does not rely on collision resistance of the underlying PRF.
          </p>

          </div>
		
		<br /> <br />
		
		<h3>Web Administrator's Configuration Guide - Microsoft Servers</h3>
		<br /> <br />
          <p>
            As per Microsoft's SHA-1 deprecation policy, Windows users don't need to do anything in response to this new technical requirement. XP Service Pack 3 (SP3) and later versions support SHA-2 SSL certificates. Server 2003 SP2 and later versions add SHA-2 functionality to SSL certificates by applying hotfixes (KB968730 and KB938397).
          </p>
          <p>
            <span class="green">Web administrators must request new certificates to replace SHA-1 SSL and code-signing certificates that expire after January 1, 2017.</span> As of this writing, that would probably affect only public SHA-1 certificates that were purchased with a long expiration date (three years or more) or long-duration certificates issued by internal SHA-1 CAs. Most third-party CAs will rekey their certificates for free, so you simply need to contact the CA to request a rekeyed certificate that uses the SHA-2 algorithm.
          </p>
          <p>
            When ordering new SSL certificates, you should confirm with the CA that they're being issued with the SHA-2 algorithm. New certificates with expiration dates after January 1, 2017, can only use SHA-2. Code-signing certificates with expiration dates after December 31, 2015, must also use SHA-2.
          </p>
          <p>
            Note that the algorithm used in SHA-2 certificates is actually encoded to use SHA-256, SHA-384, or SHA-512. All of these are SHA-2 algorithms; the SHA number (e.g., 256) specifies the number of bits in the hash. The larger the hash, the more secure the certificate but possibly with less compatibility.
          </p>
          <p>
            <span class="green">It's important that the certificate chain be encrypted with SHA-2 certificates. (A certificate chain consists of all the certificates needed to certify the end certificate.)</span> This means that any intermediate certificates must also use SHA-2 after January 1, 2017. Typically, your CA will provide the intermediate and root CA certificates when they provide the SHA-2 certificate. Sometimes they provide a link for you to download the certificate chain. It's important that you update this chain with SHA-2 certificates. Otherwise, Windows might not trust your new SHA-2 certificate.
          </p>
          <p>
            Root certificates are a different story. These can actually be SHA-1 certificates because Windows implicitly trusts these certificates since the OS trusts the root certificate public key directly. A root certificate is self-signed and isn't signed by another entity that has been given authority.
          </p>
          <p>
            For the same reason, any self-signed certificate can use the SHA-1 algorithm. For example, Microsoft Exchange Server generates self-signed SHA-1 certificates during installation. These certificates are exempt from the new SHA-2 policy since they aren't chained to a CA. I expect, however, that future releases of Exchange will use SHA-2 in self-signed certificates.
          </p>
          
          <br />
          <h3 id="enterprise">What About My Enterprise CAs</h3>
          <p>
            If your organization has its own internal CA PKI, you'll want to ensure that it's generating SHA-2 certificates. How this is done depends on whether the CA is running Windows Server 2008 R2 or later and if your CA has subordinate CAs.
          </p>
          <p>
            If you have a Server 2008 R2 or later single-root CA without subordinates, you should update the CA to use SHA-2. Doing so will ensure that subsequent certificates generated will use the SHA-2 algorithm. To check which hash algorithm is being used, you can right-click the CA and go to the General tab. If SHA-1 is listed, you can run the following certutil command to configure the CA to use the SHA-256 algorithm:
            <xmp>
            certutil -setreg ca\csp\CNGHashAlgorithm SHA256
            </xmp>
          </p>
          <p>
            You must restart the CertSvc service to apply the change. Now when you view the CA properties, you'll see that the hash algorithm is SHA-256. All future certificates issued by this CA will use SHA-256, but keep in mind that existing certificates will still be using SHA-1. You need to renew any SHA-1 certificates issued by this CA to upgrade them to SHA-2 certificates.
          </p>
          <p>
            <span class="red">If your CA is older than Server 2008 R2, you can't upgrade the CA to use SHA-2. You'll need to rebuild it with a newer version.</span> If your organization's internal CA is multi-tiered with one or more subordinate CAs, you'll need to reconfigure them to use SHA-2. This is done using the same certutil command just given on each subordinate or issuing CA. Keep in mind that if you use subordinate CAs, you're not required to update the root CA to SHA-2 since that certificate is at the top of the certificate chain, but it won't cause any problems if you do. You still need to renew any SHA-1 certificates issued by the subordinate CAs to upgrade them to SHA-2 certificates.
          </p>
          
          <br />
          <h3 id="action">Take Action Now</h3>
          <p>
            Administrators and website operators should identify all the SSL certificates used in their organizations and take action, as follows:
            <ul>
              <li>
                SHA-1 SSL certificates expiring before January 1, 2017, will need to be replaced with a SHA-2 equivalent certificate.
              </li>
              <li>
                SHA-1 SSL certificates expiring after January 1, 2017, should be replaced with a SHA-2 certificate at the earliest convenience.
              </li>
              <li>
                Any SHA-2 certificate chained to an SHA-1 intermediate certificate should be replaced with another one chained to an SHA-2 intermediate certificate.
              </li>
            </ul>
          </p>
        </div>
      </div>



      <div class="row" style="margin-top:5vw;border-top:1px solid #4f4f4f;">
        <div id="relatedArticles" class="col-md-6 col-sm-6 col-xs-6">
          <h3>Further Reading</h3>
          <ul>
	           <li>
               <a href="https://technet.microsoft.com/en-us/library/security/2880823.aspx">Microsoft Security Advisory 2880823</a>This website discusses the deprecation policy for the SHA-1 hashing algorithm for the Microsoft Root Certificate Program.
             </li>
             <li>
               <a href="https://technet.microsoft.com/en-us/library/dn771627.aspx">Migrating a Certification Authority Key from a Cryptographic Service Provider (CSP) to a Key Storage Provider (KSP).</a>The section "How to migrate a CA from a CSP to a KSP and optionally, from SHA-1 to SHA-2" in this TechNet web page provides detailed instructions for upgrading a CA to use SHA-2.
             </li>
             <li>
               <a href="https://security.googleblog.com/2014/09/gradually-sunsetting-sha-1.html">Gradually sunsetting SHA-1</a>. This Google Online Security Blog post explains how the transition to SHA-2 affects Chrome and details Google's rollout schedule.
             </li>
             <li>
               <a href="https://support.globalsign.com/customer/portal/articles/1499561-sha-256-compatibility">SHA-256 Compatibility</a>. This GlobalSign web page lists OS, browser, server, and signing support for SHA-256 certificates.
             </li>
             <li>
               <a href="https://www.digicert.com/sha1-sunset/">DigiCert SHA-1 Sunset Tool</a>This free web application tests public websites for SHA-1 certificates that expire after January 1, 2016.
             </li>
             <li>
               <a href="https://www.digicert.com/cert-inspector.htm">DigiCert Certificate Inspector</a>This tool discovers and analyzes all certificates in an enterprise. It's free, even if you don't have a DigiCert account.
             </li>
             <li>
               <a href="https://www.ssllabs.com/ssltest/index.html">Qualys SSL Labs' SSL Server Test</a>This free online service analyzes the configuration of any SSL web server on the public Internet.
             </li>
	        </ul>
        </div>

        <div id="relatedArticles" class="col-md-6 col-sm-6 col-xs-6">
          <h3>Related Articles</h3>
          <ul>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Properly Storing Passwords</a></li>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Hashes for File Verification</a></li>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Digital Signatures for File Verification</a></li>
      	  </ul>
        </div>
      </div>

      <div class="footerfix"></div>

      <footer class="footer">Copyright © 2019 Crypto Done Right All rights reserved.
      </footer>
    </div>

  </body>
</html>
