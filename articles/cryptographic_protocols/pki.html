<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>PKI and Certificates</title>
    <meta name="robots" content="noindex, noarchive, nofollow">
    <link rel="stylesheet" href="http://www.cisco.com/etc/designs/cdc/clientlibs/responsive/css/cisco-sans.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="shortcut icon" href="favicon.ico">

    <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'> -->
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="../../css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="../../css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="../../css/bootstrap.css">
    <!-- Superfish -->
    <link rel="stylesheet" href="../../css/superfish.css">

    <!--<link rel="stylesheet" href="../../css/style.css">-->


    <!-- Modernizr JS -->
    <script src="../../js/modernizr-2.6.2.min.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="../../css/style-mockup1.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </head>

  <body background="..\..\images\test9.jpg"> <!-- background="..\..\images\test9.jpg" -->
    <div id="header">
      <header id="fh5co-header-section">
        <div class="container">
          <div class="nav-header">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <h1 id="fh5co-logo"><a href="..\..\index.html"><strong><font color="black">Crypto Done Right!</font></strong></a></h1>
            <!-- START #fh5co-menu-wrap -->
            <nav id="fh5co-menu-wrap" role="navigation">
              <ul class="sf-menu" id="fh5co-primary-menu">
                <!--<li class="active">
                  <a href="index.html"><font color="black">Home</font></a>
                </li>-->
                <li>
                  <a href="..\..\articles\cryptographic_protocols\cryptographic-protocols.html" class="fh5co-sub-ddown"><font color="black">Cryptographic Algorithms</font></a>
                  <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\cryptographic_protocols\basics.html" ><font color="black">Basics</font></a></li>
                    <li><a href="#" class="fh5co-sub-ddown">SSL</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\ssl-2.html">SSL 2.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\ssl-3.html">SSL 3.0</a></li>
                        </ul>
                    </li>
                    <li><a href="#" class="fh5co-sub-ddown">TLS</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1.html">TLS 1.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-1.html" >TLS 1.1</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-2.html" >TLS 1.2</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\tls-1-3.html" >TLS 1.3</a></li>
                        </ul>
                    </li>
                    <li><a href="#" class="fh5co-sub-ddown">SSH</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\sshv1.html" >SSH 1.0</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\sshv2.html" >SSH 2.0</a></li>
                        </ul>
                    </li>
                  </ul>
                </li>

                <li>
                  <a href="..\..\articles\cryptographic_protocols\encryption.html" class="fh5co-sub-ddown"><font color="black">Encryption</font></a>
                  <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\cryptographic_protocols\encryption.html" ><font color="black">Introduction</font></a></li>
                      <li><a href="#" class="fh5co-sub-ddown">AES</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\cryptographic_protocols\aes.html" >Introduction</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\aes-ctr.html" >AES CTR</a></li>
                          <li><a href="..\..\articles\cryptographic_protocols\aes-cbc.html" >AES CBC</a></li>
                        </ul>
                      </li>
                    <li><a href="#" class="fh5co-sub-ddown">DES</a></li>
                    <li><a href="..\..\articles\cryptographic_protocols\3des.html" class="fh5co-sub-ddown">3DES</a></li>
                  </ul>
                </li>

                <li>
                  <a href="#" class="fh5co-sub-ddown"><font color="black">Hashing Algorithms</font></a>
                   <ul class="fh5co-sub-menu">
                    <li><a href="..\..\articles\hashing_algorithms\example_index.html">Introduction</a></li>
                    <li>
                      <a href="#" class="fh5co-sub-ddown">Hash Functions</a>
                      <ul class="fh5co-sub-menu">
                          <li><a href="#" class="fh5co-sub-ddown">Unkeyed</a>
                        <ul class="fh5co-sub-menu">
                          <li><a href="..\..\articles\hashing_algorithms\md5.html" >MD5</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha1.html" >SHA-1</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha2.html" >SHA-2</a></li>
                          <li><a href="..\..\articles\hashing_algorithms\sha3.html" >SHA-3</a></li>
                        </ul>
                        </li>
                          <li><a href="#" class="fh5co-sub-ddown">Keyed</a>
                        <ul class="fh5co-sub-menu">                       
                          <li><a href="http://freehtml5.co/preview/?item=build-free-html5-bootstrap-template" tar
                                 ="_blank">More to come..</a></li>
                            </ul>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li><a href="about.html"><font color="black">About</font></a></li>
                <li><a href="contact.html"><font color="black">Contact</font></a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>
    </div>

      <div id="contentScroller">
      <strong style="font-size:2vw;">Content</strong>
      <br />
      <ul>
        <a href="#trust"><li>
          Trust
            </li></a><br />
        <a href="#partyncert"><li>
          Trusted Party and Certificates
            </li></a><br />
        <a href="#chain"><li>
              Chain of Trust
            </li></a><br />
        <a href="#findsig"><li>
              Find my Signature
            </li></a><br />
        <a href="#mutual"><li>
              Mutual Authentication using Certificates
            </li></a><br />
        <a href="#definitions"><li>
              Defintions
            </li></a><br />
        <a href="#links"><li>
              Good Links
            </li></a>
      </ul>
    </div>

    <div class="breadcrumbs">
      <ol class="breadcrumb">
         <li class="breadcrumb-item level"><a href="../../index.html">Home</a></li>
         <li class="breadcrumb-item level"><a href="../articles.html">Articles</a></li>
         <li class="breadcrumb-item level"><a href="cryptographic-protocols.html">Cryptographic Protocols</a></li>
         <li class="breadcrumb-item level0"><a href="basics.html">Basics</a></li>
         <li class="breadcrumb-item level1 active">PKI</li>
       </ol>
    </div>

    <div class="container-fluid">
      <div class="row" style="padding: 2vw;">
        
        <div class="col-md-12 col-sm-12 col-xs-12">
          <p>
           <img src="../../images/pki.jpg" style="width:500px;height:275px;" class="center" />   

            <center><h2>Certificates and Public Key Infrastructure</h2></center>
            <br /> <br />


Introduction to PKI or Public Key Infrastructure in a Simpler and a more practical standpoint. <br /> <br />
<ul>

<li>
<p id="trust">
<h3> Trust </h3>
Let's first take a look at what is the meaning of "Trust". <br /> <br />

Below is an <b>example</b>: <br />
Lets say that A (Alice) would like to do a secure communication for the very first time with B (Bob). Alice has never met with Bob in her life and doesn't know who he is and neither does Bob know Alice. But Alice knows C (Charlie). Fortunately, B Bob also knows Charlie. <br />
Let's assume Alice "trusts" Charlie and Bob also "trusts" Charlie. <br /> <br />

Now, Alice asks Charlie if Bob is trustworthy. Charlie replies "Ya, I know him, he checks out, you can trust him". <br />
This same thing happens with Bob.<br />
Bob asks Charlie if Alice is trustworthy. Charlie replies "Ya, I know her, she checks out, you can trust her".<br />

Great! Now that a Alice and Bob both have confirmation from a trusted party, viz, Charlie, they can now trust each other.<br /><br />

<blockquote>
A ----------DOESNT TRUST----------------B <br /><br />

AIM :- A ----------- TRUSTS -------------B <br /><br /><br />

Since, <br />

A -------------- TRUSTS ----------------C <br /> <br /> 

B ---------------TRUSTS ----------------C <br /> <br />

so <br />

A -------------- TRUSTS ----------------B <br /><br />
</blockquote>
<br /><br />
This is a simple analogy of how a "trust relationship" is established.<br /><br />

Lets extrapolate the above example to include a few more technical terms. <br /><br />

</p>
</li>

<li>
<p id="partyncert">
<h3>Trusted Party and Certificates </h3>
Charlie is the certificate authority or the "Trusted Party". Charlie generates certificates(analogously ID cards) for Alice and Bob. 
The certificate has the information of Alice (such as Name, Date of Birth, Expiry of the card etc.) and it is also signed by Charlie. Simiarly, even Bob will recieve a certificate of his own signed by Charlie. Now, this step is done before the actual communication exchange between the Alice and Bob. Charlie also has his own certificate which is also given to both Alice and Bob. <br />

Now, armed with the certificates, both Alice and Bob can begin their communication. <br />

Alice sends her certificate to Bob, and Bob checks the signature of Charlie. Once, the signature verification is done, Bob now trusts Alice.
Similarly, Bob will also send Alice his certificate. Alice will check the signature of Charlie. Once, the signature verification is done, Alice will now trust Bob. <br />

This is how typically authentication of completely unknown parties occur over the Internet. <br /> <br />

To make the job of Charlie or the CA (Certificate Authority) simpler of distributing certificates to the whole world, there are subordinate CA also that sort of report to the main CA or "Root" CA.  <br /> <br />

I'd like to elaboarate a little bit more on the signatures mentioned earlier. These signatures are called Digital Signatures. They use asymetric cryptography that generate two keys or a key pair. One key is called Private key and the other is called a Public Key. As the names suggest, private key is a key that is kept secret and a public key is the key that is public to everyone. <br /><br />

Now, lets explore how Charlie or a CA ensures who Alice and Bob really are and how he creates the certificate and the signature. Lets move away from the Alice, Bob and Charlie example and extrapolate this to sort of a real world scenario.<br /><br />

Google wants a certificate from a Trusted Party for www.google.com.<br /><br />

<ul>
<li> Google first goes to the CA and then requests for a certificate from them. </li>
<li>The CA then asks Google for all the details (domain name: www.google.com, Organization Unit: Google Inc. etc.). The CA does a background check and ensures that the information about google is correct and valid.</li>
<li>The CA then computes a <a href="../example_index.html">hash</a> of all the information provided by Google. </li>
<li>The CA then encrypts or "signs" this hash with its own private key. Why is this a "sign"? because since it is a private key, <b>only</b> the CA can encrypt that hash. This encrypted hash, with the rest of the data pertaining to Google that it provided to the CA in plaintext and the public key constitute the certificate. This certificate also has valuable information or "General Information" such as Expiry date, Issued to and Issued By details. Let's just quickly see a mock certificate for our example: <br /><br />

<u>Certificate</u> <br />
General: <br />
Issued to: Alice <br />
Issued by: Charlie <br />
Valid from 07/2018 to 07/2022 <br /> <br />
Details: <br />
DOB: 12/23/2000<br />
Address: 1234, Random Street<br />
Etc.<br />
Charlie's Public Key<br />
Signed(Hash(Alice's information))
</li>
</ul>

<img src="../../images/cert-1.png" class="center" /> 
<img src="../../images/cert-2.png" class="center" /> 

This above process is done for everyone who asks for a certificate. This is analogous to the creation of an ID card (such as a driver's license) by a trusted government agency.<br /><br />

</p>
</li>

<li>
<p id="chain">
<h3> Trusted Chain or Chain of Trust </h3>
Before we go on to explain how your web browser will negotiate a "trust relationship" with the web server www.google.com using certificates, let me quickly touch upon a topic of the "Trusted Chain" or "Chain of trust". If you remember I mentioned about the Subordinate CAs existing. These subordinate CA's are child CA's that a Root CA have given privileges to also distribute certificates. The hierarchy is as seen below:<br /><br /><br />


A Root CA, the entity that is at the top of chain will have the "Issued by" and "Issued to" as the same, i.e., itself. The Subordinate CA's will have the "Issued by" field populated by the Root CA. All the other certificates that users request will now have the Issued by field as this Subordinate CA.<br /><br />

<img src="../../images/cert-3.png" class="center" /> 
<img src="../../images/cert-4.png" class="center" /> 
<img src="../../images/cert-5.png" class="center" /> 
<img src="../../images/cert-6.png" class="center" /> 
<img src="../../images/cert-7.png" class="center" /> 


Now this is what is a chain of trust. Every server will validate this chain, if the chain is broken or if there is any missing entity, the authentication of that certificate will fail.<br /><br />

</p>
</li>

<li>
<p id="findsig">
<h3> How do I know the Signature that I am using in my certificate? </h3>
  <ul> 
    <li>
      Go to the Details Tab.
      <img src="../../images/cert-8.png" class="center" /> 
    </li>
    <li>
      Find and click on Fields: "Signature algorithm" or "Signature has algorithm"
      <img src="../../images/cert-9.png" class="center" /> 
    </li>
  </ul>
  </p>

<li>
<p id="mutual">
<h3> Mutual Authentication using Certifications </h3>
Now, lets explore what happens if your web browser talks to www.google.com.<br /><br />
<ul>
<li>Your web browser will first present its certificate with the chain to the web server google.com.</li>
<li>The web server validates the chain and verifies the signature. After the verification, google.com now trusts your web browser and then www.google.com's web server then presents in own certificate.</li>
<li>The web browser then validates the chain and verifies the signature just the web server did. If everything checks out then web browser will now trust www.google.com.</li>
</ul>
Now, they have authenticated each other and are ready for a secure communications. Note: this is a simplified version of a protocol. This process is typically coupled with a lot of other messages and information .<br /><br />

</p>
</li>

<li>
<p id="definitions">
<h3> Definitions </h3>
Here are a few formal definitions:<br /><br />
<b>CA (Certificate Authority)</b> - A Certificate Authority is an authority that issues public key certificates and provides identification to the bearer.
Subordinate CA (Certificate Authority) - A Subordinate CA is a certificate authority (CA) that is at a level beneath the root CA.<br /><br />
<b>Certificates</b> - A digital certificate provides authenticity to a users or clients identity. A digital certificate contains a number of details relating to the client such as address, DN, email address etc. Each digital certificate is issued (and signed) by a CA (Certificate Authority) and is only valid for a specific period of time.<br /><br />
<b>Key Pairs</b> - A key pair consists of a public and private key. Any data that is encrypted with the public key can be decrypted with the private key and vice-versa. The public key can be provided to anyone who requests it and is typically formed as part of the public certificate. The private key (as the name suggests) is keep private and not shared.<br /><br />
<b>Digital Signatures</b> - A digital signature is generated by the hashing of a digital certificate. The hash is then encrypted using the CA`s private key. This encrypted hashcode string is then appended to the public certificate as a digital signature.<br /><br />
As only the CA`s public key can decrypt the digital signature, authenticity is  provided to the users public certificate.<br />

</p>
</li>

<li>
<p id="links">
<h3> Good Links </h3>
Recommended viewing for further strengthening above concepts<br /><br />

<a href="https://www.youtube.com/watch?v=i-rtxrEz_E8">https://www.youtube.com/watch?v=i-rtxrEz_E8 </a><br />
This above video is an excellent illustration of the need for the digital certificates and how asymetric encryption works. It's only about 3 minutes long. It also explains some of the concepts mentioned above.<br /><br />
 
<a href="https://www.youtube.com/watch?v=q9vu6_2r0o4">https://www.youtube.com/watch?v=q9vu6_2r0o4 </a><br />
This video is an 18 minute video, but the explanation of the concepts is amazing since it includes the encryption and why different encryption schemes are needed and how they came about. This is definitely a must watch. <br /> <br />

<a href= "https://www.fir3net.com/Security/Concepts-and-Terminology/pki-chain-of-trust.html"> https://www.fir3net.com/Security/Concepts-and-Terminology/pki-chain-of-trust.html </a>
</p>
</li>

</ul>
          </p>
      </div>
    </div>


      <div class="row" style="margin-top:5vw;border-top:1px solid #4f4f4f;">
        <div id="relatedArticles" class="col-md-6 col-sm-6 col-xs-6">
          <h3>Further Reading</h3>
          <p>
	           Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
	        </p>
        </div>

        <div id="relatedArticles" class="col-md-6 col-sm-6 col-xs-6">
          <h3>Related Articles</h3>
          <ul>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Properly Storing Passwords</a></li>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Hashes for File Verification</a></li>
      	    <li><a href="http://ciscodemo.isi.jhu.edu/template3.html#">Digital Signatures for File Verification</a></li>
      	  </ul>
        </div>
      </div>


      <div class="footerfix"></div>
      <footer class="footer">© 2017 Important legal stuff and/or links to usage restrictions etc.
      </footer>
    </div>

  </body>
</html>
